{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      products: [],\n      newProduct: {\n        name: '',\n        price: '',\n        category: ''\n      },\n      role: localStorage.getItem('role')\n    };\n  },\n  created() {\n    this.getProducts();\n  },\n  methods: {\n    async getProducts() {\n      const res = await axios.get('/products');\n      this.products = res.data;\n    },\n    async addProduct() {\n      await axios.post('/products', this.newProduct);\n      this.newProduct = {\n        name: '',\n        price: '',\n        category: ''\n      };\n      this.getProducts();\n    },\n    async deleteProduct(id) {\n      await axios.delete(`/products/${id}`);\n      this.getProducts();\n    },\n    editProduct(product) {\n      this.newProduct = {\n        ...product\n      };\n    }\n  }\n};","map":{"version":3,"names":["axios","data","products","newProduct","name","price","category","role","localStorage","getItem","created","getProducts","methods","res","get","addProduct","post","deleteProduct","id","delete","editProduct","product"],"sources":["src/views/Products.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Product List</h2>\r\n    <div v-if=\"role === 'Admin'\">\r\n      <input v-model=\"newProduct.name\" placeholder=\"Name\" />\r\n      <input v-model=\"newProduct.price\" type=\"number\" placeholder=\"Price\" />\r\n      <input v-model=\"newProduct.category\" placeholder=\"Category\" />\r\n      <button @click=\"addProduct\">Add Product</button>\r\n    </div>\r\n\r\n    <div v-for=\"product in products\" :key=\"product._id\">\r\n      <p>{{ product.name }} - â‚¹{{ product.price }} ({{ product.category }})</p>\r\n      <div v-if=\"role === 'Admin'\">\r\n        <button @click=\"editProduct(product)\">Edit</button>\r\n        <button @click=\"deleteProduct(product._id)\">Delete</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      newProduct: { name: '', price: '', category: '' },\r\n      role: localStorage.getItem('role')\r\n    }\r\n  },\r\n  created() {\r\n    this.getProducts()\r\n  },\r\n  methods: {\r\n    async getProducts() {\r\n      const res = await axios.get('/products')\r\n      this.products = res.data\r\n    },\r\n    async addProduct() {\r\n      await axios.post('/products', this.newProduct)\r\n      this.newProduct = { name: '', price: '', category: '' }\r\n      this.getProducts()\r\n    },\r\n    async deleteProduct(id) {\r\n      await axios.delete(`/products/${id}`)\r\n      this.getProducts()\r\n    },\r\n    editProduct(product) {\r\n      this.newProduct = { ...product }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AAqBA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,UAAA;QAAAC,IAAA;QAAAC,KAAA;QAAAC,QAAA;MAAA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACA,MAAAD,YAAA;MACA,MAAAE,GAAA,SAAAb,KAAA,CAAAc,GAAA;MACA,KAAAZ,QAAA,GAAAW,GAAA,CAAAZ,IAAA;IACA;IACA,MAAAc,WAAA;MACA,MAAAf,KAAA,CAAAgB,IAAA,mBAAAb,UAAA;MACA,KAAAA,UAAA;QAAAC,IAAA;QAAAC,KAAA;QAAAC,QAAA;MAAA;MACA,KAAAK,WAAA;IACA;IACA,MAAAM,cAAAC,EAAA;MACA,MAAAlB,KAAA,CAAAmB,MAAA,cAAAD,EAAA;MACA,KAAAP,WAAA;IACA;IACAS,YAAAC,OAAA;MACA,KAAAlB,UAAA;QAAA,GAAAkB;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}