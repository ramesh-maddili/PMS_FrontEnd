{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'App',\n  data() {\n    return {\n      role: localStorage.getItem('role') || null,\n      isLoggedIn: !!localStorage.getItem('token')\n    };\n  },\n  computed: {\n    isAuthenticated() {\n      return this.isLoggedIn;\n    }\n  },\n  watch: {\n    $route() {\n      this.role = localStorage.getItem('role');\n      this.isLoggedIn = !!localStorage.getItem('token');\n    }\n  },\n  mounted() {\n    this.$root.$on('logged-in', () => {\n      this.role = localStorage.getItem('role');\n      this.isLoggedIn = true;\n    });\n  },\n  methods: {\n    logout() {\n      if (!this.isLoggedIn) return; // Prevent double logout\n\n      localStorage.clear();\n      this.role = null;\n      this.isLoggedIn = false;\n\n      // Avoid navigation error if already on /login\n      if (this.$route.path !== '/login') {\n        this.$router.push('/login');\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","role","localStorage","getItem","isLoggedIn","computed","isAuthenticated","watch","$route","mounted","$root","$on","methods","logout","clear","path","$router","push"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <nav v-if=\"isAuthenticated\">\n      <router-link to=\"/products\">Products</router-link>\n      <router-link v-if=\"role === 'Admin'\" to=\"/summary\">Summary</router-link>\n\n      <span class=\"spacer\"></span>\n      <span v-if=\"role\" class=\"user-info\">{{ role }}</span>\n      <button @click=\"logout\">Logout</button>\n    </nav>\n\n    <router-view :key=\"$route.fullPath\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  data() {\n    return {\n      role: localStorage.getItem('role') || null,\n      isLoggedIn: !!localStorage.getItem('token')\n    };\n  },\n  computed: {\n    isAuthenticated() {\n      return this.isLoggedIn;\n    }\n  },\n  watch: {\n    $route() {\n      this.role = localStorage.getItem('role');\n      this.isLoggedIn = !!localStorage.getItem('token');\n    }\n  },\n  mounted() {\n    this.$root.$on('logged-in', () => {\n      this.role = localStorage.getItem('role');\n      this.isLoggedIn = true;\n    });\n  },\n  methods: {\n    logout() {\n      if (!this.isLoggedIn) return; // Prevent double logout\n\n      localStorage.clear();\n      this.role = null;\n      this.isLoggedIn = false;\n\n      // Avoid navigation error if already on /login\n      if (this.$route.path !== '/login') {\n        this.$router.push('/login');\n      }\n    }\n  }\n};\n</script>\n\n<style>\nbody {\n  margin: 0;\n  font-family: Arial, sans-serif;\n  background: #f5f5f5;\n}\n\n#app {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\nnav {\n  display: flex;\n  align-items: center;\n  background-color: #2c3e50;\n  padding: 10px 20px;\n  border-radius: 0;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  height: 30px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\nnav .spacer {\n  flex-grow: 1;\n}\n\n.user-info {\n  color: #ecf0f1;\n  margin-right: 20px;\n  font-weight: 500;\n  background-color: #34495e;\n  padding: 6px 12px;\n  border-radius: 20px;\n  font-size: 14px;\n}\n\nnav a {\n  color: white;\n  margin-right: 20px;\n  text-decoration: none;\n  font-weight: bold;\n}\n\nnav a.router-link-exact-active {\n  text-decoration: underline;\n}\n\nnav button {\n  padding: 5px 10px;\n  background: #e74c3c;\n  border: none;\n  color: white;\n  cursor: pointer;\n  border-radius: 4px;\n}\n</style>\n"],"mappings":";AAgBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA;MACAC,UAAA,IAAAF,YAAA,CAAAC,OAAA;IACA;EACA;EACAE,QAAA;IACAC,gBAAA;MACA,YAAAF,UAAA;IACA;EACA;EACAG,KAAA;IACAC,OAAA;MACA,KAAAP,IAAA,GAAAC,YAAA,CAAAC,OAAA;MACA,KAAAC,UAAA,KAAAF,YAAA,CAAAC,OAAA;IACA;EACA;EACAM,QAAA;IACA,KAAAC,KAAA,CAAAC,GAAA;MACA,KAAAV,IAAA,GAAAC,YAAA,CAAAC,OAAA;MACA,KAAAC,UAAA;IACA;EACA;EACAQ,OAAA;IACAC,OAAA;MACA,UAAAT,UAAA;;MAEAF,YAAA,CAAAY,KAAA;MACA,KAAAb,IAAA;MACA,KAAAG,UAAA;;MAEA;MACA,SAAAI,MAAA,CAAAO,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}